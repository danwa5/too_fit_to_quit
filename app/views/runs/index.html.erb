<div class="page-header">
  <h2>Runs</h2>
</div>

<div class="activity-form">
  <%= form_tag(runs_path, method: :get, class: 'form-inline') do |f| %>
    <div class="form-group">
      <%= label_tag :after_date, 'Runs on or after' %>&nbsp;
      <%= text_field_tag :after_date, (@runs_options[:date] || Date.today - 60), { class: 'form-control' } %>
    </div>
    <div class="form-group">
      <div class="form-group">
        <%= submit_tag 'Display', class: 'btn btn-primary' %>
      </div>
    </div>
  <% end %>
</div>

<% if @dataset.present? %>
  <div class="row">
    <div class="col-sm-8">
      <table id="steps-table" class="table table-condensed">
        <thead>
          <tr>
            <th>Date</th>
            <th>Distance (miles)</th>
            <th>Duration</th>
            <th>Pace (min/mile)</th>
            <th>Steps</th>
            <th>Log ID</th>
            <th></th>
          </tr>
        </thead>
        <tbody>
        <% @dataset.each do |run| %>
          <tr>
            <td><%= format_run_time(run.start_time) %></td>
            <td><%= format_distance(run.distance) %></td>
            <td><%= format_duration(run.duration) %></td>
            <td><%= format_pace(run.duration, run.distance) %></td>
            <td><%= run.activity.steps %></td>
            <td><%= run.uid %></td>
            <td><%= link_to 'Show', run_path(run.id) %></td>
          </tr>
        <% end %>
        </tbody>
      </table>
    </div>
  </div>
<% end %>
